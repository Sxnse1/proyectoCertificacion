<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Test Navegaci√≥n M√≥vil</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <style>
        body {
            padding-top: 80px;
        }
        .test-info {
            padding: 20px;
            margin: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            font-family: Arial, sans-serif;
        }
        .debug-info {
            font-size: 12px;
            color: #666;
            margin: 10px 0;
        }
        .test-section {
            margin: 20px;
            padding: 15px;
            border: 2px solid #007bff;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <!-- Navigation (copiada de index.hbs) -->
    <nav class="navbar">
      <div class="container">
        <div class="nav-brand">
          <h2>StartEducation</h2>
        </div>
        <a href="/auth/login" class="mobile-login-btn">üîê Login</a>
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        <div class="nav-menu" id="navMenu">
          <a href="#cursos">Cursos</a>
          <a href="#nosotros">Nosotros</a>
          <a href="#contacto">Contacto</a>
          <a href="/auth/login" class="login-btn">üîê Iniciar Sesi√≥n</a>
        </div>
      </div>
    </nav>

    <div class="test-info">
        <h2>üß™ Test de Navegaci√≥n M√≥vil</h2>
        <div class="debug-info" id="screenInfo"></div>
    </div>

    <div class="test-section">
        <h3>Estado de Elementos de Navegaci√≥n:</h3>
        <div id="navStatus"></div>
    </div>

    <div class="test-section">
        <h3>Botones de Login:</h3>
        <div id="loginStatus"></div>
    </div>

    <div class="test-section">
        <h3>Pruebas:</h3>
        <button onclick="testMobileLogin()" style="padding: 10px 20px; margin: 5px; background: #28a745; color: white; border: none; border-radius: 4px;">
            Probar Bot√≥n M√≥vil
        </button>
        <button onclick="testMenuToggle()" style="padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px;">
            Probar Men√∫ Hamburguesa
        </button>
    </div>

    <script>
        function updateInfo() {
            const screenInfo = document.getElementById('screenInfo');
            screenInfo.innerHTML = `
                üñ•Ô∏è Resoluci√≥n: ${window.innerWidth} x ${window.innerHeight}px<br>
                üì± Es M√≥vil: ${window.innerWidth <= 768 ? 'S√ç' : 'NO'}<br>
                üëÜ Touch: ${('ontouchstart' in window) ? 'Soportado' : 'No soportado'}<br>
                üåê User Agent: ${navigator.userAgent.includes('Mobile') ? 'M√≥vil' : 'Desktop'}
            `;
        }

        function updateNavStatus() {
            const mobileLoginBtn = document.querySelector('.mobile-login-btn');
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const navMenu = document.querySelector('.nav-menu');
            const loginBtn = document.querySelector('.login-btn');

            const navStatus = document.getElementById('navStatus');
            navStatus.innerHTML = `
                üì± Bot√≥n Login M√≥vil: ${getElementStatus(mobileLoginBtn)}<br>
                üçî Bot√≥n Hamburguesa: ${getElementStatus(menuToggle)}<br>
                üìã Men√∫ Principal: ${getElementStatus(navMenu)}<br>
            `;

            const loginStatus = document.getElementById('loginStatus');
            loginStatus.innerHTML = `
                üîê Bot√≥n Login Principal: ${getElementStatus(loginBtn)}<br>
                üîó Link Login M√≥vil: ${getElementStatus(mobileLoginBtn)}<br>
            `;
        }

        function getElementStatus(element) {
            if (!element) return '‚ùå No encontrado';
            
            const rect = element.getBoundingClientRect();
            const styles = getComputedStyle(element);
            const isVisible = rect.width > 0 && rect.height > 0 && styles.display !== 'none' && styles.visibility !== 'hidden';
            
            return `${isVisible ? '‚úÖ Visible' : '‚ùå Oculto'} (${rect.width.toFixed(1)}x${rect.height.toFixed(1)}px)`;
        }

        function testMobileLogin() {
            const mobileLoginBtn = document.querySelector('.mobile-login-btn');
            if (mobileLoginBtn) {
                alert('¬°Bot√≥n de login m√≥vil encontrado! Redirigiendo...');
                // No redirigir realmente en la prueba
                // window.location.href = '/auth/login';
            } else {
                alert('‚ùå Bot√≥n de login m√≥vil no encontrado');
            }
        }

        function testMenuToggle() {
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const navMenu = document.querySelector('.nav-menu');
            
            if (menuToggle && navMenu) {
                menuToggle.click();
                setTimeout(() => {
                    const isActive = navMenu.classList.contains('active');
                    alert(`Men√∫ ${isActive ? 'abierto' : 'cerrado'} correctamente`);
                }, 100);
            } else {
                alert('‚ùå Elementos del men√∫ no encontrados');
            }
        }

        // Script del men√∫ m√≥vil (copiado de index.hbs)
        document.addEventListener('DOMContentLoaded', function() {
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const navMenu = document.getElementById('navMenu');
            
            if (mobileToggle && navMenu) {
                mobileToggle.addEventListener('click', function() {
                    navMenu.classList.toggle('active');
                    
                    const lines = mobileToggle.querySelectorAll('.hamburger-line');
                    if (navMenu.classList.contains('active')) {
                        lines[0].style.transform = 'rotate(45deg) translate(5px, 6px)';
                        lines[1].style.opacity = '0';
                        lines[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
                    } else {
                        lines[0].style.transform = 'none';
                        lines[1].style.opacity = '1';
                        lines[2].style.transform = 'none';
                    }
                    
                    updateNavStatus();
                });
                
                const menuLinks = navMenu.querySelectorAll('a');
                menuLinks.forEach(link => {
                    link.addEventListener('click', function(e) {
                        if (link.getAttribute('href').startsWith('#')) {
                            e.preventDefault();
                        }
                        navMenu.classList.remove('active');
                        const lines = mobileToggle.querySelectorAll('.hamburger-line');
                        lines[0].style.transform = 'none';
                        lines[1].style.opacity = '1';
                        lines[2].style.transform = 'none';
                        updateNavStatus();
                    });
                });
            }
            
            updateInfo();
            updateNavStatus();
        });

        window.addEventListener('resize', function() {
            updateInfo();
            updateNavStatus();
        });
    </script>
</body>
</html>